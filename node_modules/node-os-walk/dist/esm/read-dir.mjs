// src/read-dir.ts
import fs from "fs/promises";
async function readDir(root, ignoreErrors) {
  try {
    const dirEntries = await fs.readdir(root, { withFileTypes: true });
    const directories = [];
    const files = [];
    for (const entry of dirEntries) {
      if (entry.isDirectory()) {
        directories.push(entry);
      } else if (entry.isFile()) {
        files.push(entry);
      }
    }
    return [root, directories, files];
  } catch (e) {
    if (ignoreErrors)
      return [root, [], []];
    throw e;
  }
}
export {
  readDir
};
